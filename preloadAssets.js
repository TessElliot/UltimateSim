export function preloadAssets(scene) {
  scene.load.image("background_image", "assets/background_title.png");
  scene.load.image("UI_bkgd", "assets/UI_bkgd.png");
  scene.load.image("button", "assets/buttons/button.png");
  scene.load.image("button_clicked", "assets/buttons/button_clicked.png");
  scene.load.image("button_bulldoze", "assets/buttons/button_bulldoze.png");
  scene.load.image(
    "button_bulldoze_clicked",
    "assets/buttons/button_bulldoze_clicked.png"
  );
  scene.load.image("button_trees", "assets/buttons/button_trees.png");
  scene.load.image(
    "button_trees_clicked",
    "assets/buttons/button_trees_clicked.png"
  );
  scene.load.image("button_electric", "assets/buttons/button_electric.png");
  scene.load.image(
    "button_electric_clicked",
    "assets/buttons/button_electric_clicked.png"
  );
  scene.load.image("button_info", "assets/buttons/button_info.png");
  scene.load.image(
    "button_info_clicked",
    "assets/buttons/button_info_clicked.png"
  );
  scene.load.image("button_move", "assets/buttons/button_move.png");
  scene.load.image(
    "button_move_clicked",
    "assets/buttons/button_move_clicked.png"
  );
  scene.load.image("button_rotate", "assets/buttons/button_rotate.png");
  scene.load.image(
    "button_rotate_clicked",
    "assets/buttons/button_rotate_clicked.png"
  );
  scene.load.image("button_zoom", "assets/buttons/button_zoom.png");
  scene.load.image(
    "button_zoom_clicked",
    "assets/buttons/button_zoom_clicked.png"
  );
  scene.load.image("button_sun", "assets/buttons/button_sun.png");
  scene.load.image(
    "button_sun_clicked",
    "assets/buttons/button_sun_clicked.png"
  );
  scene.load.image("button_wind", "assets/buttons/button_wind.png");
  scene.load.image(
    "button_wind_clicked",
    "assets/buttons/button_wind_clicked.png"
  );
  scene.load.image("button_home", "assets/buttons/button_home.png");
  scene.load.image(
    "button_home_clicked",
    "assets/buttons/button_home_clicked.png"
  );

  scene.load.spritesheet("null", "assets/null.png", {
    frameWidth: 32,
    frameHeight: 32,
  });
  scene.load.spritesheet("industrial", "assets/all/warehouse.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("warehouse", "assets/all/warehouse.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("wood", "assets/all/forest.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("power:plant (solar)", "assets/all/power_solar.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("church", "assets/all/church.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("university", "assets/all/university.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("school", "assets/all/school.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("grass", "assets/all/grass.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("grassland", "assets/all/grass.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("swimming_pool", "assets/all/swimming_pool.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("no data", "assets/all/no_data.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("commercial", "assets/all/commercial.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("golf_course", "assets/all/golf_course.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("public", "assets/all/grass.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("hospital", "assets/all/hospital.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("apartments", "assets/all/apartments_medium.png", {
    frameWidth: 32,
    frameHeight: 128,
  });

  scene.load.spritesheet("religious", "assets/all/church.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("social_facility", "assets/all/social_facility.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("playground", "assets/all/playground.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("office", "assets/all/office_medium.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("nature_reserve", "assets/all/nature_reserve.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("substation", "assets/all/substation.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("military", "assets/all/military.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("shed", "assets/all/shed.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("sports_centre", "assets/all/sports_centre.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("meadow", "assets/all/meadow.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("cemetery", "assets/all/cemetery.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("quarry", "assets/all/quarry.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("plant_nursery", "assets/all/plant_nursery.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("hotel", "assets/all/hotel.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("parking", "assets/all/parking.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("garages", "assets/all/parking.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("carport", "assets/all/parking.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("brownfield", "assets/all/brownfield.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("garden", "assets/all/garden.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet(
    "green_apartments",
    "assets/all/green_apartments.png",
    {
      frameWidth: 64,
      frameHeight: 256,
    }
  );
  scene.load.spritesheet("empty", "assets/all/empty.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("forest", "assets/all/forest.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("wind", "assets/all/wind_power_anim.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("soil", "assets/soil.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("farmland", "assets/all/farm.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("farmyard", "assets/all/farm.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("reservoir", "assets/all/water_anim.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("construction", "assets/all/construction_anim.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("wetland", "assets/all/wetland_anim.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("dump_station", "assets/all/dump_station_anim.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("landfill", "assets/all/landfill.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("park", "assets/all/park.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("pitch", "assets/all/pitch.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("recreation_ground", "assets/all/pitch.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("house", "assets/all/detached.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("detached", "assets/all/detached.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("neighbourhood", "assets/all/neighbourhood.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("neighborhood", "assets/all/neighborhood.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("residential", "assets/all/residential.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("scrub", "assets/all/scrub.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("retail", "assets/all/retail.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("water", "assets/all/pond.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("tiles", "assets/test_spritesheet.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("tiles_med", "assets/test_med_spritesheet.png", {
    frameWidth: 64,
    frameHeight: 128,
  });
  scene.load.spritesheet("destroy", "assets/ground_anim.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("grow", "assets/grow_anim.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("brian", "assets/brian_spritesheet.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("farm", "assets/farm.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("pond_b", "assets/pond_anim.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("tree_b", "assets/tree_anim.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("road", "assets/road.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("beach", "assets/beach.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("coastline", "assets/coastline.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("bike", "assets/road_with_bike.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("ground", "assets/all/ground.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("yes", "assets/all/yes.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("power:plant (oil;gas)", "assets/all/oil.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("barn", "assets/all/barn.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("dog_park", "assets/all/dog_park.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("ruins", "assets/all/ruins.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("roof", "assets/all/yes.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("island", "assets/all/island.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("islet", "assets/all/islet.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("museum", "assets/all/museum.png", {
    frameWidth: 32,
    frameHeight: 64,
  });
  scene.load.spritesheet("stadium", "assets/all/sports_centre.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("hangar", "assets/all/hangar.png", {
    frameWidth: 32,
    frameHeight: 128,
  });
  scene.load.spritesheet("tornado", "assets/all/tornado_strip.png", {
    frameWidth: 48,
    frameHeight: 48,
  });

  scene.load.image("skyscraper", "assets/building.png");
  scene.load.image("solar", "assets/solar.png");
  scene.load.image("hydrogen", "assets/hydrogen.png");

  // Add the listener to handle the 'complete' event
  scene.load.once("complete", () => {
    console.log("All assets loaded.");
    console.log("Check tornado texture:", scene.textures.exists("tornado"));
  });
}

export function createAnimations(scene) {
  console.log("creating animations...");

  const animations = [
    {
      key: "nature_reserve",
      sprite: "nature_reserve",
      frames: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
      frameRate: 4,
    },
    {
      key: "bulldozing",
      sprite: "destroy",
      frames: [0, 1, 2, 3, 4, 5, 6, 7],
      frameRate: 4,
      repeat: 0,
    },
    {
      key: "reservior",
      sprite: "reservoir",
      frames: [0, 1, 2],
      frameRate: 6,
    },
    {
      key: "construction",
      sprite: "construction",
      frames: [0, 1, 2, 3, 4, 5],
      frameRate: 6,
    },
    {
      key: "farmland",
      sprite: "farmland",
      frames: [0, 1, 2, 3, 4, 5, 6, 7],
      frameRate: 4,
    },
    {
      key: "house",
      sprite: "house",
      frames: [0, 1, 2, 3, 4, 5, 6, 7],
      frameRate: 4,
    },
    {
      key: "detached",
      sprite: "house",
      frames: [0, 1, 2, 3, 4, 5, 6, 7],
      frameRate: 4,
    },
    {
      key: "wetland",
      sprite: "wetland",
      frames: [0, 1, 2],
      frameRate: 6,
    },
    {
      key: "water",
      sprite: "water",
      frames: [0, 1, 2],
      frameRate: 1,
    },
    {
      key: "landfill",
      sprite: "landfill",
      frames: [0, 1, 2],
      frameRate: 4,
    },
    {
      key: "dump_station",
      sprite: "dump_station",
      frames: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],
      frameRate: 3,
    },
    {
      key: "park",
      sprite: "park",
      frames: Array.from({ length: 19 }, (_, i) => i), // [0...18]
      frameRate: 3,
    },
    {
      key: "pitch",
      sprite: "pitch",
      frames: [0, 1, 2, 3, 4],
      frameRate: 3,
    },
    {
      key: "recreation_ground",
      sprite: "pitch",
      frames: [0, 1, 2, 3, 4],
      frameRate: 3,
    },
    {
      key: "wind",
      sprite: "wind",
      frames: [0, 1, 2, 3, 4, 5, 6, 7],
      frameRate: 3,
    },
    {
      key: "neighbourhood",
      sprite: "neighbourhood",
      frames: Array.from({ length: 20 }, (_, i) => i),
      frameRate: 3,
    },
    {
      key: "neighborhood",
      sprite: "neighborhood",
      frames: Array.from({ length: 20 }, (_, i) => i),
      frameRate: 3,
    },
    {
      key: "residential",
      sprite: "residential",
      frames: Array.from({ length: 40 }, (_, i) => i),
      frameRate: 3,
    },
    {
      key: "scrub",
      sprite: "scrub",
      frames: [0, 1],
      frameRate: 1,
    },
    {
      key: "retail",
      sprite: "retail",
      frames: [0, 1, 2, 3],
      frameRate: 1,
    },
    {
      key: "power:plant (oil;gas)",
      sprite: "power:plant (oil;gas)",
      frames: [0, 1, 2, 3],
      frameRate: 1,
    },
    {
      key: "tornado_spin",
      sprite: "tornado",
      frames: [0, 1, 2],
      frameRate: 6,
      repeat: -1,
    },
  ];

  // animations.forEach(({ key, sprite, frames, frameRate, repeat = -1 }) => {
  //   scene.anims.create({
  //     key,
  //     frames: scene.anims.generateFrameNumbers(sprite, { frames }),
  //     frameRate,
  //     repeat,
  //   });
  // });
  animations.forEach(
    ({ key, sprite, frames, frameRate, repeat = -1, manualFrames }) => {
      if (manualFrames) {
        scene.anims.create({
          key,
          frames: manualFrames,
          frameRate,
          repeat,
        });
      } else {
        scene.anims.create({
          key,
          frames: scene.anims.generateFrameNumbers(sprite, { frames }),
          frameRate,
          repeat,
        });
      }
    }
  );
}
